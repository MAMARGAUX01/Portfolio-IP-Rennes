/* Gallery */
.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:1.5rem;
}

.gallery-item{
  position:relative;
  overflow:hidden;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 6px 20px rgba(0,0,0,.08);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.gallery-item:hover{
  transform:translateY(-6px);
  box-shadow:0 18px 40px rgba(0,0,0,.18);
}

.gallery-item img{
  width:100%;
  height:320px;
  object-fit:cover;
  display:block;
  transition: transform 0.4s ease;
}

.gallery-item:hover img{
  transform:scale(1.08);
}

/* Caption overlay - Desktop */
.caption-overlay{
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  background:linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.6) 70%, transparent 100%);
  color:#fff;
  padding:2rem 1.2rem 1.2rem;
  font-size:0.92rem;
  line-height:1.5;
  transform:translateY(100%);
  transition:transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events:none;
}

.gallery-item:hover .caption-overlay,
.gallery-item.active .caption-overlay{
  transform:translateY(0);
}

/* Mobile Gallery - Horizontal Scroll */
@media(max-width:768px){
  #realisations{
    padding-left:0;
    padding-right:0;
    position:relative;
  }
  
  .section-title{
    padding:0 5%;
  }
  
  .gallery{
    display:flex;
    overflow-x:auto;
    overflow-y:hidden;
    scroll-snap-type:x mandatory;
    scroll-behavior:smooth;
    gap:1rem;
    padding:0 0 1.5rem 0;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
    position:relative;
  }
  
  .gallery::-webkit-scrollbar{
    display:none;
  }
  
  .gallery-item{
    flex:0 0 85%;
    max-width:340px;
    scroll-snap-align:center;
    box-shadow:0 4px 15px rgba(0,0,0,.12);
    transition:transform 0.2s ease;
  }
  
  .gallery-item:hover{
    transform:none;
  }
  
  .gallery-item.in-view{
    animation:scaleIn 0.3s ease forwards;
  }
  
  @keyframes scaleIn{
    from{opacity:0.7;transform:scale(0.95)}
    to{opacity:1;transform:scale(1)}
  }
  
  .gallery-item img{
    height:280px;
  }
  
  .gallery-item:hover img{
    transform:none;
  }
  
  /* Caption always visible on mobile */
  .caption-overlay{
    position:absolute;
    bottom:0;
    left:0;
    right:0;
    transform:translateY(0);
    background:linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 60%, transparent 100%);
    color:#fff;
    padding:1.5rem 1rem 1rem;
    font-size:0.88rem;
    line-height:1.4;
    pointer-events:none;
  }
  
  .gallery-item:first-child{
    margin-left:5%;
  }
  
  .gallery-item:last-child{
    margin-right:5%;
  }
  
  /* Scroll indicator hint */
  .gallery::after{
    content:'';
    position:absolute;
    right:0;
    top:0;
    bottom:1.5rem;
    width:40px;
    background:linear-gradient(to left, var(--blanc-casse), transparent);
    pointer-events:none;
    z-index:5;
  }
}
